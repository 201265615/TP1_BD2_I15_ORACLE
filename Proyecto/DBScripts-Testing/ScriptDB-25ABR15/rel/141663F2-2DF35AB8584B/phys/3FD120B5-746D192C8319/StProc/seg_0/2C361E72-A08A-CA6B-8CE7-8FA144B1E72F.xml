<?xml version = '1.0' encoding = 'UTF-8'?>
<StoredProcedureOraclev10g class="oracle.dbtools.crest.model.design.storage.oracle.v10g.StoredProcedureOraclev10g" name="SP_PROYECCIONTCNMESES" directorySegmentName="seg_0" id="2C361E72-A08A-CA6B-8CE7-8FA144B1E72F">
<sourceConnName>oraserveri-proyectopdb-mviales</sourceConnName>
<sourceObjSchema>MVIALES</sourceObjSchema>
<sourceObjName>SP_PROYECCIONTCNMESES</sourceObjName>
<createdBy>riho</createdBy>
<createdTime>2015-04-25 21:44:29 UTC</createdTime>
<ownerDesignName>ScriptDB-25ABR15</ownerDesignName>
<owner>3919DA2A-C451-AB45-1584-FB489057BDD4</owner>
<source>CREATE OR REPLACE PROCEDURE MVIALES.SP_PROYECCIONTCNMESES(&lt;br/&gt;  PNUMMESES IN NUMBER,&lt;br/&gt;  PNUMVALREALES IN NUMBER,&lt;br/&gt;  -- PARA INSERT SOLAMENTE&lt;br/&gt;  PCODMONEDA1 IN NUMBER,&lt;br/&gt;  PCODMONEDA2 IN NUMBER,&lt;br/&gt;  PCODIDECONO IN VARCHAR2&lt;br/&gt;) IS&lt;br/&gt;  CONTA NUMBER(10);&lt;br/&gt;  PMONTO NUMBER(17,2);&lt;br/&gt;  NEWFECHA DATE;&lt;br/&gt;BEGIN&lt;br/&gt;  CONTA := 0;&lt;br/&gt;  PMONTO := 0;&lt;br/&gt;  WHILE (CONTA &lt; PNUMMESES)&lt;br/&gt;  LOOP&lt;br/&gt;    -- INCREMENTA UN MES&lt;br/&gt;    SELECT &lt;br/&gt;      ADD_MONTHS(sysdate,CONTA) INTO NEWFECHA &lt;br/&gt;    FROM DUAL;&lt;br/&gt;    -- CALCULA EL TC PARA ESE MES&lt;br/&gt;    SP_PROYECCIONTC1MES(PNUMVALREALES, NEWFECHA, PCODMONEDA1, PCODMONEDA2, PCODIDECONO, PMONTO); &lt;br/&gt;    CONTA := CONTA + 1;&lt;br/&gt;  END LOOP;&lt;br/&gt;END;</source>
<body>CREATE OR REPLACE PROCEDURE MVIALES.SP_PROYECCIONTCNMESES(&lt;br/&gt;  PNUMMESES IN NUMBER,&lt;br/&gt;  PNUMVALREALES IN NUMBER,&lt;br/&gt;  -- PARA INSERT SOLAMENTE&lt;br/&gt;  PCODMONEDA1 IN NUMBER,&lt;br/&gt;  PCODMONEDA2 IN NUMBER,&lt;br/&gt;  PCODIDECONO IN VARCHAR2&lt;br/&gt;) IS&lt;br/&gt;  CONTA NUMBER(10);&lt;br/&gt;  PMONTO NUMBER(17,2);&lt;br/&gt;  NEWFECHA DATE;&lt;br/&gt;BEGIN&lt;br/&gt;  CONTA := 0;&lt;br/&gt;  PMONTO := 0;&lt;br/&gt;  WHILE (CONTA &lt; PNUMMESES)&lt;br/&gt;  LOOP&lt;br/&gt;    -- INCREMENTA UN MES&lt;br/&gt;    SELECT &lt;br/&gt;      ADD_MONTHS(sysdate,CONTA) INTO NEWFECHA &lt;br/&gt;    FROM DUAL;&lt;br/&gt;    -- CALCULA EL TC PARA ESE MES&lt;br/&gt;    SP_PROYECCIONTC1MES(PNUMVALREALES, NEWFECHA, PCODMONEDA1, PCODMONEDA2, PCODIDECONO, PMONTO); &lt;br/&gt;    CONTA := CONTA + 1;&lt;br/&gt;  END LOOP;&lt;br/&gt;END;</body>
</StoredProcedureOraclev10g>